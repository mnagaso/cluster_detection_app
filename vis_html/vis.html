<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>Vis</title>

    <style type="text/css">
      html, body {
        font: 10pt arial;
        padding: 0;
        margin: 0;
        width: 100%;
        height: 100%;
      }

      #mynetwork {
        width: 100%;
        height: 100%;
      }
    </style>

    <link href="vis.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="vis.min.js"></script>
    <script type="text/javascript">
      var nodes = null;
      var edges = null;
      var network = null;

      var LENGTH_MAIN = 350,
          LENGTH_SERVER = 150,
          LENGTH_SUB = 50,
          WIDTH_SCALE = 2,
          GREEN = 'green',
          RED = '#C5000B',
          ORANGE = 'orange',
      //GRAY = '#666666',
          GRAY = 'gray',
          BLACK = '#2B1B17';

      function readTextFile(file, callback) {
        var rawFile = new XMLHttpRequest();
        rawFile.overrideMimeType("application/json");
        rawFile.open("GET", file, true);
        rawFile.onreadystatechange = function() {
          callback(rawFile.responseText);
          return;
        }
        rawFile.send(null);
      }


      // Called when the Visualization API is loaded.
      function draw() {
        // create a network
        var container = document.getElementById('mapequation_network');
        var options = {
          nodes: {
            scaling: {
              min: 16,
              max: 32
            }
          },
          edges: {
            color: GRAY,
            smooth: true
          },
          physics:{
            barnesHut:{gravitationalConstant:-30000},
            stabilization: {iterations:2500}
          },
          groups: {
            'switch': {
              shape: 'triangle',
              color: '#FF9900' // orange
            },
            desktop: {
              shape: 'dot',
              color: "#2B7CE9" // blue
            },
            mobile: {
              shape: 'dot',
              color: "#5A1E5C" // purple
            },
            server: {
              shape: 'square',
              color: "#C5000B" // red
            },
            internet: {
              shape: 'square',
              color: "#109618" // green
            }
          }
        };
       
        readTextFile("result_mapequation.json", function(text){
          var gephiJSON = JSON.parse(text);
          var parserOptions = {
            edges: {
              inheritColors: true
            },
            nodes: {
              fixed: true,
              parseColor: true
            }
          }
          var parsed = vis.network.convertGephi(gephiJSON, parserOptions);
          var   data = {
            nodes: parsed.nodes,
            edges: parsed.edges
          };
          network = new vis.Network(container, data, options);
        });
      }
    </script>
    <style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
      .en-markup-crop-options {
          top: 18px !important;
          left: 50% !important;
          margin-left: -100px !important;
          width: 200px !important;
          border: 2px rgba(255,255,255,.38) solid !important;
          border-radius: 4px !important;
      }
      
      .en-markup-crop-options div div:first-of-type {
          margin-left: 0px !important;
      }
    </style>
  </head>

  <body onload="draw()">
    <div id="mapequation_network">
      <div class="vis-network" tabindex="900" style="position: relative; overflow: hidden; touch-action: pan-y; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;"><canvas width="2880" height="1116" style="position: relative; touch-action: none; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); width: 100%; height: 100%;"></canvas>
      </div>
    </div>
  </body>
  <div>
  </div>
</html>
